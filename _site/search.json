{
  "articles": [
    {
      "path": "Ask_A_Manager_Survey.html",
      "title": "Ask A Manager Survey",
      "description": "This post is about the 2021 Ask A Manager Survey analysis. It provides an overview of the data analysis process attempting to fit a linear regression model to explain variances in reported salaries among the respondents\n",
      "author": [
        {
          "name": {},
          "url": "https://www.linkedin.com/in/sivuyile-nzimeni-98006ba0/"
        }
      ],
      "date": "December 25, 2021",
      "contents": "\r\n\r\nContents\r\nINTRODUCTION\r\nREPRODUCIBILITY\r\nOUT OF SAMPLE TESTING\r\n\r\nLASSO REGRESSION\r\nIMPORTANT VARIABLE\r\nEXTRACTION\r\nTIDYMODELS: A\r\nCLEAN INTERFACE FOR MACHING LEARNING\r\n\r\nRESULTS\r\nTraining Dataset\r\nTest Dataset\r\n\r\nCONCLUSION\r\nREFERENCES\r\n\r\nINTRODUCTION\r\nIn early 2021, the Ask A\r\nManager blogsite ran their annual salary\r\nsurvey. The survey responses are stored on googlesheets, making the\r\ndata accessible to all interested. In a previous\r\npost, we discussed data pre-processing and feature selection method.\r\nThis post focuses two aspects,namely, 1) Reproducibility and 2)\r\nOut-of-Sample Testing.\r\nREPRODUCIBILITY\r\nIn the previous post, we detailed the feature selection method by\r\nregularised regreesion, specifically, LASSO regression. In this post, we\r\nwill attempt to reproduce the feature selection method.\r\nOUT OF SAMPLE TESTING\r\nIn this post, we will also follow the traditional machine learning\r\nworkflow including, splitting the data into a training and testing\r\nsamples, fitting a model, cross-validation and finally fitting the model\r\non the out-of-sample dataset(testing dataset). This approach can inform\r\nus about the model’s parsimony. In other words, can the model perform\r\nwell on an unknown sample.\r\n\r\n\r\n\r\n\r\n\r\n\r\nLASSO REGRESSION\r\nAs mentioned above, the data cleaning process was detailed on an\r\nearlier post. It is worth highlighting that the dataset contained\r\nseveral dummy variables indicating various respondent attributes such as\r\njob_title, industry, city, age group etc. Our dependent variable is the\r\nannual salary. Given the large number of independent variables. In the\r\ncode below, we fit a LASSO regression model.\r\n\r\n\r\nX <- model.matrix(new_annual_salary ~.,Salary_Train)[,-1]\r\nY <- log(Salary_Train$new_annual_salary)\r\n\r\nlasso <- glmnet(x=X,\r\n       y= Y,\r\n       alpha = 1)\r\n\r\n\r\n\r\nIMPORTANT VARIABLE\r\nEXTRACTION\r\nThe resulting object is a list of class “glmnet”. Essentially, the\r\nresults contain all the iterations through alpha and to find the minimum\r\nlambda. As such, there are several results in the object. We are\r\nprimarily interested in extracting the remaining variables at minimum\r\nlambda along with their coeffiecients. The vip\r\npackage can automate the plotting of the results. However, we want\r\nto extract the variables names in order to fit them on our training\r\ntest. There is probably a package to assist with this step somewhere in\r\nthe wild, however, we haven’t found it yet. Luckily in R, we can write\r\ncustom functions. The code below details the variable_extractor\r\nfunction.\r\n\r\n\r\nvariable_extractor <- function(a_list){\r\n  min_lambda <- data.frame(best_lambda =a_list[[\"lambda\"]]==min(a_list[[\"lambda\"]]))\r\n  min_lambda <- cbind.data.frame(data.frame(index = rownames(min_lambda)),\r\n                                 min_lambda)\r\n  min_lambda <- min_lambda %>% \r\n    filter(best_lambda == TRUE)\r\n  min_lambda <- as.double(unique(min_lambda$index))\r\n  lasso_variables <- as.matrix(coef(a_list))|>data.frame()\r\n  lasso_variables <- cbind.data.frame(variables = rownames(lasso_variables),\r\n                                      lasso_variables)\r\n  lasso_variables <- tibble(lasso_variables)\r\n  lasso_variables <- lasso_variables[,c(1,min_lambda+1)]\r\n  names(lasso_variables) <- c(\"variable\",\"importance\")\r\n  lasso_variables <- lasso_variables %>% \r\n    filter(variable != \"(Intercept)\",\r\n           importance != 0.00000000) %>% \r\n    arrange(desc(importance))\r\n\r\n  return(lasso_variables)\r\n}\r\n\r\nlasso_variable <- variable_extractor(lasso)\r\n\r\n\r\n\r\nThe function takes a list of attribute “glmnet”. Thereafter, we find\r\nthe smallest lambda. In addition, we extract all the coefficients from\r\nthe object and store them as a wide dataframe. The dataframe is subset\r\nto only contain the variable name along with the coefficients of the\r\nsmallest lambda value. We discard the intercept and variable with\r\ncoefficients that are equal to 0.0000000. The final output is identical\r\nto the variables extracted by the vip package. Finally, we subset both\r\nthe training dataset and the testing dataset to only contain the\r\nselected independent variables. Since the outcome variable is expressed\r\nin USD terms, we log the outcome variable.\r\n\r\n\r\n\r\nTIDYMODELS: A\r\nCLEAN INTERFACE FOR MACHING LEARNING\r\nThe R programming language doesn’t not lack methods for running\r\nmachine learning algorithms, it is after all, a statistical programming\r\nlanguage. The tidymodels\r\nmetapackage aims to provide a standard interface for modelling and\r\nmachine learning using tidyverse principles. Below, we use the package\r\nto complete a number of steps including, crossfold_validation, model\r\nspecification, fitting on the resamples and finally fitting the model on\r\nthe training dataset.\r\n\r\n\r\nSalary_Folds <- vfold_cv(Salary_Train)\r\n\r\nlm_spec <- linear_reg(engine = \"lm\")\r\n\r\nlm_recipe <- recipe(new_annual_salary ~.,Salary_Train) %>% \r\n  step_nzv(all_predictors())\r\n\r\nlm_wf <- workflow(lm_recipe,lm_spec)\r\n\r\ndoParallel::registerDoParallel(cores = 10)\r\nctrl_preds <- control_resamples(save_pred = TRUE)\r\ncv_results <- fit_resamples(lm_wf,Salary_Folds,control = ctrl_preds)\r\n\r\nlm_wf <- fit(lm_wf,Salary_Train)\r\n\r\ncollect_metrics(cv_results,summarize = FALSE) %>% \r\n  filter(.metric == \"rsq\") %>% \r\n  summarise(avg_estimate = mean(.estimate),\r\n            .groups = \"drop\")\r\n\r\n\r\n# A tibble: 1 × 1\r\n  avg_estimate\r\n         <dbl>\r\n1        0.267\r\n\r\nAcross all 10 validation folds, the linear regression model’s\r\nadjusted R-square averaged 0.272. It is possible to tune the parameters\r\nand use battery of other machine learning models to improve performance.\r\nIn the previous post, we utilised random forest to try an improve the\r\nmodel. Despite, requiring additional computational power, the increases\r\nin peformance were marginal to neglible.\r\nAt this point, we have completed our first objective. We are able to\r\nreproduce the LASSO regresison results in the previous post. The next\r\nobjective is to determine the parsimony of the model. Here, we fit model\r\non the test data.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nRESULTS\r\nTraining Dataset\r\n\r\n\r\nLinear Regression Model: Training Dataset\r\n    Depedent Variable: log(Annual Salary(USD))\r\n    Characteristic\r\n      Beta (SE)1,2\r\n    (Intercept)\r\n11***\r\n(0.022)years_of_experience_in_field_X21...30.years\r\n0.38***\r\n(0.023)job_title_director\r\n0.32***\r\n(0.013)years_of_experience_in_field_X11...20.years\r\n0.28***\r\n(0.019)highest_level_of_education_completed_PhD\r\n0.26***\r\n(0.017)industry_government\r\n0.27***\r\n(0.048)city_york\r\n0.25***\r\n(0.016)industry_computing\r\n0.23\r\n(0.197)job_title_engineer\r\n0.24***\r\n(0.016)years_of_experience_in_field_X8...10.years\r\n0.21***\r\n(0.020)job_title_senior\r\n0.16***\r\n(0.012)industry_health\r\n0.16*\r\n(0.082)years_of_experience_in_field_X5.7.years\r\n0.13***\r\n(0.019)job_title_manager\r\n0.12***\r\n(0.010)how_old_are_you_X45.54\r\n0.10***\r\n(0.019)how_old_are_you_X35.44\r\n0.09***\r\n(0.018)industry_engineering\r\n0.09***\r\n(0.017)industry_finance\r\n0.22\r\n(0.197)how_old_are_you_X25.34\r\n0.05**\r\n(0.017)industry_tech\r\n0.06\r\n(0.197)highest_level_of_education_completed_Master.s.degree\r\n0.05***\r\n(0.008)job_title_analyst\r\n0.04*\r\n(0.015)years_of_experience_in_field_X2...4.years\r\n0.02\r\n(0.019)industry_banking\r\n-0.15\r\n(0.197)gender_Woman\r\n-0.03***\r\n(0.009)industry_care\r\n-0.08\r\n(0.083)overall_years_of_professional_experience_X11...20.years\r\n-0.09***\r\n(0.023)overall_years_of_professional_experience_X8...10.years\r\n-0.10***\r\n(0.024)overall_years_of_professional_experience_X21...30.years\r\n-0.10***\r\n(0.023)race_White\r\n-0.11***\r\n(0.010)overall_years_of_professional_experience_X5.7.years\r\n-0.13***\r\n(0.024)overall_years_of_professional_experience_X2...4.years\r\n-0.17***\r\n(0.024)industry_nonprofits\r\n-0.18***\r\n(0.014)industry_education\r\n-0.18***\r\n(0.013)highest_level_of_education_completed_Some.college\r\n-0.21***\r\n(0.014)industry_public\r\n-0.23***\r\n(0.048)job_title_assistant\r\n-0.22***\r\n(0.015)Adjusted R-square: 0.2732\r\n    1 *p<0.05; **p<0.01; ***p<0.001\r\n    2 SE = Standard Error\r\n    \r\n\r\nTest Dataset\r\n\r\n\r\nLinear Regression Model: Test Dataset\r\n    Depedent Variable: log(Annual Salary(USD))\r\n    Characteristic\r\n      Beta (SE)1,2\r\n    (Intercept)\r\n11***\r\n(0.038)years_of_experience_in_field_X21...30.years\r\n0.44***\r\n(0.040)job_title_director\r\n0.32***\r\n(0.023)years_of_experience_in_field_X11...20.years\r\n0.33***\r\n(0.033)highest_level_of_education_completed_PhD\r\n0.29***\r\n(0.030)industry_government\r\n0.27**\r\n(0.084)city_york\r\n0.24***\r\n(0.028)industry_computing\r\n-0.11\r\n(0.281)job_title_engineer\r\n0.24***\r\n(0.028)years_of_experience_in_field_X8...10.years\r\n0.29***\r\n(0.033)job_title_senior\r\n0.15***\r\n(0.020)industry_health\r\n0.13\r\n(0.130)years_of_experience_in_field_X5.7.years\r\n0.17***\r\n(0.032)job_title_manager\r\n0.11***\r\n(0.017)how_old_are_you_X45.54\r\n0.14***\r\n(0.035)how_old_are_you_X35.44\r\n0.14***\r\n(0.032)industry_engineering\r\n0.07*\r\n(0.031)industry_finance\r\n0.38\r\n(0.345)how_old_are_you_X25.34\r\n0.10***\r\n(0.030)industry_tech\r\n0.38\r\n(0.281)highest_level_of_education_completed_Master.s.degree\r\n0.03*\r\n(0.014)job_title_analyst\r\n0.08**\r\n(0.027)years_of_experience_in_field_X2...4.years\r\n0.05\r\n(0.031)industry_banking\r\n-0.36\r\n(0.345)gender_Woman\r\n-0.02\r\n(0.016)industry_care\r\n-0.07\r\n(0.131)overall_years_of_professional_experience_X11...20.years\r\n-0.19***\r\n(0.040)overall_years_of_professional_experience_X8...10.years\r\n-0.21***\r\n(0.041)overall_years_of_professional_experience_X21...30.years\r\n-0.20***\r\n(0.041)race_White\r\n-0.13***\r\n(0.017)overall_years_of_professional_experience_X5.7.years\r\n-0.25***\r\n(0.042)overall_years_of_professional_experience_X2...4.years\r\n-0.28***\r\n(0.041)industry_nonprofits\r\n-0.22***\r\n(0.024)industry_education\r\n-0.20***\r\n(0.022)highest_level_of_education_completed_Some.college\r\n-0.23***\r\n(0.024)industry_public\r\n-0.27**\r\n(0.082)job_title_assistant\r\n-0.22***\r\n(0.026)Adjusted R-square: 0.2624\r\n    1 *p<0.05; **p<0.01; ***p<0.001\r\n    2 SE = Standard Error\r\n    \r\n\r\nCONCLUSION\r\nThe model performs well on an out-of-sample dataset with year of\r\nexperience (21 - 30 years), job title (Director) and highest level of\r\neducation (PhD) being among the most important predictors of annual\r\nsalary. Provided the questions utilised in 2022 are similar or identical\r\nto the 2021 survey, the model above can be evaluated on the 2022 survey\r\nresults.\r\nREFERENCES\r\nSilge,J. 2021.Fit and predict with tidymodels for #TidyTuesday bird\r\nbaths in Australia. Available From: https://juliasilge.com/blog/bird-baths/ (Accessed 24\r\nDecember 2021).\r\nWickham et al., (2019). Welcome to the tidyverse. Journal of Open\r\nSource Software, 4(43), 1686, https://doi.org/10.21105/joss.01686\r\nSam Firke (2021). janitor: Simple Tools for Examining and Cleaning\r\nDirty Data. R package version 2.1.0. https://CRAN.R-project.org/package=janitor\r\nKuhn et al., (2020). Tidymodels: a collection of packages for\r\nmodeling and machine learning using tidyverse principles. https://www.tidymodels.org\r\nJerome Friedman, Trevor Hastie, Robert Tibshirani (2010).\r\nRegularization Paths for Generalized Linear Models via Coordinate\r\nDescent. Journal of Statistical Software, 33(1), 1-22. https://www.jstatsoft.org/v33/i01/.\r\nRichard Iannone, Joe Cheng and Barret Schloerke (2021). gt: Easily\r\nCreate Presentation-Ready Display Tables. R package version 0.3.1. https://CRAN.R-project.org/package=gt\r\nThomas Mock (2021). gtExtras: A Collection of Helper Functions for\r\nthe gt Package. R package version 0.2.2.11. https://github.com/jthomasmock/gtExtras\r\nSjoberg DD, Whiting K, Curry M, Lavery JA, Larmarange J. Reproducible\r\nsummary tables with the gtsummary package. The R Journal 2021;13:570–80.\r\nhttps://doi.org/10.32614/RJ-2021-053.\r\n\r\n\r\n\r\n",
      "last_modified": "2022-06-05T13:25:57+02:00"
    },
    {
      "path": "Cars_SA.html",
      "title": "South African Car Prices",
      "description": "This post details the data scraping process for obtaining data from a South African online vehicle marketplate. In addition, the post shares the results of a linear regression model to estimate determinants of vehicle prices.\n",
      "author": [
        {
          "name": {},
          "url": "https://www.linkedin.com/in/sivuyile-nzimeni-98006ba0/"
        }
      ],
      "date": "February 28, 2022",
      "contents": "\r\n\r\nContents\r\nINTRODUCTION\r\nWEB SCRAPING\r\nIMPORTING THE DATA\r\nDATA PREPROCESSING\r\nLASSO\r\nIT ONCE, LASSO IT UNTIL YOU CAN ALSO NO MORE\r\nCROSS VALIDATION\r\n\r\nTESTING\r\nPERFORMANCE OF A OUT-OF-SAMPLE SET\r\nCONCLUSION\r\nREFERENCE\r\n\r\nINTRODUCTION\r\nSouth Africa has a plethora of online vehicle marketplaces. Often,\r\ntheir pool of vehicles for sale are usually > 50 000 on a daily\r\nbasis. The vehicle listings offer a vast amount of car related data.\r\nNaturally, web-scraping the data provides an opportunity to fit a\r\nMachine-Learning model and endless exploration for petrol-heads (such as\r\nmyself). Nearly all the online vehicle marketplaces have restrictive\r\nTerms and Conditions deterring the use of their data for commercial\r\npurposes and bombarding of their servers through web scrapping among\r\nother restrictions. Unfortunately, this means web scraping script cannot\r\nbe shared in this post as it may reveal where the data were obtained,\r\nmethodology of scraping the data etc. In addition, the website of the\r\nonline vehicle marketplace will not be revealed.\r\nWEB SCRAPING\r\nTo respect the Terms of Conditions, the scraping was throttled\r\nthrough the use of base R’s rpois function along with the\r\nSys.sleep() function. Combining the two functions results\r\nin non-normal distribution of system sleep. System sleep essentially\r\npauses R for the specified period. This step in the scrapping process is\r\nimportant to avoid sending to many requests to a website, perhaps,\r\nhoarding server capacity for other users. In this instance,scrapping all\r\nthe webpages and pulling all listed vehicles on the day(2021-09-02),\r\ntook 10 hours.\r\n\r\n\r\npause <- function(){\r\n  Sys.sleep(rpois(1,60))\r\n  print(paste0(\"Proceeding to the next page...\"))\r\n  }\r\n\r\n\r\n\r\nIMPORTING THE DATA\r\nBelow, we import the data and use dplyr::glimpse\r\nfunction to see the number of columns and values. The dataset contains a\r\nfew important variables including the car_name and vehicle manufacturer.\r\nIt is worth noting that the car_name variable appears to a free text\r\nfield where the person listing the vehicle can modify the car name to\r\ninclude marketing terms such as: “excellent condition”,“reduce price”\r\netc.\r\n\r\n\r\nCar_Data <- read_csv(file =\"./2021-09-03_MANY_VEHICLES_Clean_Db.csv\") %>% \r\n  clean_names()\r\n\r\nglimpse(Car_Data)\r\n\r\n\r\nRows: 62,196\r\nColumns: 10\r\n$ car_name             <chr> \"9-3 Sport 2.0 Linear Lpt\", \"S40 2.0T\",…\r\n$ vehicle_manufacturer <chr> \"Saab\", \"Volvo\", \"Volvo\", \"Hyundai\", \"V…\r\n$ year                 <dbl> 2007, 1999, 2001, 2000, 2000, 1998, 199…\r\n$ mileage              <dbl> 200000, 285000, 271000, 125000, 190000,…\r\n$ price                <dbl> 13700, 18900, 18900, 20000, 20900, 2190…\r\n$ fuel_type            <chr> \"Petrol\", \"Petrol\", \"Petrol\", \"Petrol\",…\r\n$ transmission         <chr> \"Manual\", \"Manual\", \"Manual\", \"Manual\",…\r\n$ dealership           <chr> \"Mahala Motors\", \"WeBuyCars Midstream\",…\r\n$ city_town            <chr> \"Klerksdorp\", \"Centurion\", \"Cape Town\",…\r\n$ province             <chr> \"North West Province\", \"Gauteng\", \"West…\r\n\r\nSimilarly, the free text field, also means that vehicle naming\r\nconventions deviate from the vehicle manufacturer specifications. Other\r\ntext variables also contain these anomalous changes in text. The code\r\nbelow demonstrates an example of idiosyncrasies.\r\n\r\n\r\nCar_Data %>% \r\n  filter(str_detect(car_name,\"condition\"))\r\n\r\n\r\n# A tibble: 4 × 10\r\n  car_name             vehicle_manufac…  year mileage  price fuel_type\r\n  <chr>                <chr>            <dbl>   <dbl>  <dbl> <chr>    \r\n1 Focus Excellent con… Ford              2008  305000  69950 Petrol   \r\n2 Utility 1.4 aircond… Chevrolet         2015  198000 114900 Petrol   \r\n3 Clio Excellent cond… Renault           2019   55000 160000 Petrol   \r\n4 Ranger Excellent co… Ford              2017  107000 299900 Diesel   \r\n# … with 4 more variables: transmission <chr>, dealership <chr>,\r\n#   city_town <chr>, province <chr>\r\n\r\nDATA PREPROCESSING\r\nWe would like to fit a model to better understand the determinants of\r\nvehicle prices. Here, pre-processing is important is especially\r\nimportant. Tidymodels and the textrecipes\r\noffer a range of functions to handle the whole modelling workflow.\r\nBelow, are a number of pre-processing steps, firstly we use the\r\nunnest_tokens function from the\r\ntidytext package to process the the car_name\r\nvariable. Thereafter, we handle the numerical values by applying a\r\nlogarithm to outcome variable and standardising mileage. Finally, we use\r\nstep_tokenize, step_tokenfilter and\r\nstep_tf to tokenise, filter the those tokens and ultimately\r\nconvert the tokens to a term frequency variables.\r\n\r\n\r\nUseful_Car_Names <- Car_Data %>% \r\n  unnest_tokens(car_name,\r\n                output=\"car_name\") %>% \r\n  group_by(vehicle_manufacturer,car_name) %>% \r\n  summarise(n(),.groups = \"drop\") %>% \r\n  arrange(desc(`n()`)) %>% \r\n  anti_join(stop_words %>% \r\n              rename(car_name=word)) %>% \r\n  filter(!str_detect(car_name,\"\\\\d{1,}\"))\r\n\r\nCar_Data <- Car_Data %>% \r\n  unnest_tokens(car_name,output = \"car_name\") %>% \r\n  semi_join(Useful_Car_Names %>% \r\n              select(car_name,vehicle_manufacturer)) %>%\r\n  group_by(across(-car_name)) %>% \r\n  summarise(car_name = as.character(list(c(car_name))),\r\n            .groups = \"drop\") %>% \r\n  mutate(car_name = str_replace(car_name,\r\n                                'c[[:punct:]]{2,}',\"\"),\r\n         car_name = str_replace_all(car_name,\r\n                                    '\\\\\"',\"\"),\r\n         car_name = str_replace_all(car_name,\r\n                                    '[[:punct:]]{1,}$',\"\"),\r\n         age = 2021-year)\r\nCar_Data <- Car_Data %>% \r\n  mutate(across(c(car_name,dealership,city_town),\r\n                .fns = as_factor))\r\n\r\nNew_Car_Data <- recipe(price ~ .,data = Car_Data) %>% \r\n  step_log(all_outcomes()) %>%\r\n  step_normalize(mileage) %>% \r\n  step_tokenize(c(dealership,city_town,car_name)) %>%\r\n  step_tokenfilter(c(dealership,city_town,car_name)) %>%\r\n  step_tf(c(dealership,city_town,car_name)) %>% \r\n  step_dummy(c(vehicle_manufacturer,province,\r\n               fuel_type,transmission)) %>% \r\n  step_nzv(all_predictors()) %>% \r\n  prep() %>% \r\n  bake(Car_Data)\r\n\r\n\r\n\r\nLASSO IT\r\nONCE, LASSO IT UNTIL YOU CAN ALSO NO MORE\r\nThe resulting dataset contains 59417 rows across 27 variables. Given\r\nthe dimension above, it prudent to do some additional feature select.\r\nLASSO regression helps with variable selection. In turn, we use the\r\nLASSO regression results to filter for the appropriate variables. The\r\nfinal variable set yields 24 predictor variables. The code below\r\ncontains all details the LASSO implementation and subsequent\r\nfiltering.\r\n\r\n\r\nNew_Car_Data <- New_Car_Data %>%\r\n  select(-year)\r\n\r\nCar_split <- initial_split(New_Car_Data)\r\nCar_Training <- training(Car_split)\r\nCar_Test <- testing(Car_split)\r\n\r\nX <- model.matrix(price~.,Car_Training)[,-1]\r\nY <- Car_Training$price\r\nlasso_model <- glmnet(x = X,y=Y,\r\n       alpha=1)\r\n\r\nvariable_extractor <- function(a_list){\r\n  min_lambda <- data.frame(best_lambda =a_list[[\"lambda\"]]==min(a_list[[\"lambda\"]]))\r\n  min_lambda <- cbind.data.frame(data.frame(index = rownames(min_lambda)),\r\n                                 min_lambda)\r\n  min_lambda <- min_lambda %>% \r\n    filter(best_lambda == TRUE)\r\n  min_lambda <- as.double(unique(min_lambda$index))\r\n  lasso_variables <-\r\n    as.matrix(coef(a_list))|>data.frame()\r\n  \r\n  lasso_variables <- cbind.data.frame(variables = rownames(lasso_variables),\r\n                                      lasso_variables)\r\n  \r\n  lasso_variables <- tibble(lasso_variables)\r\n  lasso_variables <- lasso_variables[,c(1,min_lambda+1)]\r\n  names(lasso_variables) <- c(\"variable\",\"importance\")\r\n  lasso_variables <- lasso_variables %>% \r\n    filter(variable != \"(Intercept)\",\r\n           importance != 0.00000000) %>% \r\n    arrange(desc(importance))\r\n\r\n  return(lasso_variables)\r\n}\r\n\r\nVariables <- variable_extractor(lasso_model)\r\nCar_Training <- Car_Training[,c(\"price\",Variables$variable)]\r\nCar_Test <- Car_Test[,c(\"price\",Variables$variable)]\r\n\r\n\r\n\r\nCROSS VALIDATION\r\nBefore fitting to the test dataset, it worth investigating whether\r\nour model performs well against “shuffled” dataset of our training data.\r\nFortunately, tidymodels and parsnip contain\r\nseveral functions to assist with the exercise.\r\nHere, we use the vfold_cv function to split our training\r\ndata into random splits of equal size. Next, we use\r\nworkflow to fit a linear model on the random splits.\r\nSubsequently, we plot the r-squares across all the folds.\r\nUltimately, cross validation helps us understand the performance of\r\nour model set of datasets by iterating through the training and test\r\nsample of each fold. The code below illustrates an implementation of\r\ncross validation.\r\n\r\n\r\nCar_Training_cv <- vfold_cv(Car_Training)\r\n\r\nlinear_model <- linear_reg() %>% \r\n  set_engine(\"lm\")\r\n\r\ncv_outcomes <- workflow() %>% \r\n  add_model(linear_model) %>% \r\n  add_formula(price ~.) %>% \r\n  fit_resamples(Car_Training_cv) %>% \r\n  select(id,.metrics) %>% \r\n  unnest(.metrics) %>% \r\n  filter(.metric == \"rsq\") %>% \r\n  select(id,.metric,.estimator,.estimate)\r\n\r\ncv_plot <- cv_outcomes %>%  \r\n  ggplot(aes(id,.estimate,group=1,fill=id))+\r\n  geom_col(show.legend = FALSE,alpha=0.8)+\r\n  geom_text(aes(label=round(.estimate,2)))+\r\n  coord_flip()+\r\n  labs(title = \"Cross Validation Results\",\r\n       subtitle = \"Car Prices Linear Model: R-Square across 10 folds\",\r\n       x=NULL,\r\n       y = \"R-Square\")+\r\n  theme(plot.title = element_text(family = \"Arial Narrow\",\r\n                                  hjust = 0.5),\r\n        plot.subtitle = element_text(family = \"Arial Narrow\",\r\n                                     hjust = 0.5,face = \"italic\"))\r\n\r\n\r\n\r\n\r\n\r\n\r\nTESTING PERFORMANCE\r\nOF A OUT-OF-SAMPLE SET\r\nOur model had an mean r-square of 0.62. Indicating that 62% of the\r\nvariation in vehicle prices is explained by the variables in our\r\ndataset. To test whether the r-square remains stable on an unseen\r\ndataset, we fit the model to our test sample. The table below\r\nillustrates the results of linear regression below.\r\n\r\n\r\n \r\n\r\n\r\nprice\r\n\r\n\r\nPredictors\r\n\r\n\r\nEstimates\r\n\r\n\r\nstd. Beta\r\n\r\n\r\nCI\r\n\r\n\r\nstandardized CI\r\n\r\n\r\np\r\n\r\n\r\n(Intercept)\r\n\r\n\r\n13.39\r\n\r\n\r\n0.00\r\n\r\n\r\n13.36 – 13.42\r\n\r\n\r\n-0.01 – 0.01\r\n\r\n\r\n<0.001\r\n\r\n\r\nvehicle manufacturerMercedes Benz\r\n\r\n\r\n0.34\r\n\r\n\r\n0.13\r\n\r\n\r\n0.31 – 0.37\r\n\r\n\r\n0.12 – 0.14\r\n\r\n\r\n<0.001\r\n\r\n\r\nvehicle manufacturer BMW\r\n\r\n\r\n0.27\r\n\r\n\r\n0.09\r\n\r\n\r\n0.24 – 0.30\r\n\r\n\r\n0.08 – 0.10\r\n\r\n\r\n<0.001\r\n\r\n\r\ntf car name tsi\r\n\r\n\r\n0.20\r\n\r\n\r\n0.07\r\n\r\n\r\n0.17 – 0.23\r\n\r\n\r\n0.06 – 0.09\r\n\r\n\r\n<0.001\r\n\r\n\r\nvehicle manufacturerToyota\r\n\r\n\r\n0.20\r\n\r\n\r\n0.11\r\n\r\n\r\n0.18 – 0.23\r\n\r\n\r\n0.10 – 0.12\r\n\r\n\r\n<0.001\r\n\r\n\r\ntf car name double\r\n\r\n\r\n0.13\r\n\r\n\r\n0.05\r\n\r\n\r\n0.09 – 0.17\r\n\r\n\r\n0.04 – 0.07\r\n\r\n\r\n<0.001\r\n\r\n\r\nvehicle manufacturerVolkswagen\r\n\r\n\r\n0.10\r\n\r\n\r\n0.05\r\n\r\n\r\n0.06 – 0.13\r\n\r\n\r\n0.03 – 0.07\r\n\r\n\r\n<0.001\r\n\r\n\r\ntf city town pretoria\r\n\r\n\r\n0.01\r\n\r\n\r\n0.01\r\n\r\n\r\n-0.01 – 0.03\r\n\r\n\r\n-0.00 – 0.02\r\n\r\n\r\n0.159\r\n\r\n\r\nvehicle manufacturer Ford\r\n\r\n\r\n0.05\r\n\r\n\r\n0.02\r\n\r\n\r\n0.03 – 0.07\r\n\r\n\r\n0.01 – 0.03\r\n\r\n\r\n<0.001\r\n\r\n\r\ntf car name cab\r\n\r\n\r\n0.02\r\n\r\n\r\n0.01\r\n\r\n\r\n-0.02 – 0.05\r\n\r\n\r\n-0.01 – 0.02\r\n\r\n\r\n0.329\r\n\r\n\r\nmileage\r\n\r\n\r\n-1.39\r\n\r\n\r\n-0.18\r\n\r\n\r\n-1.51 – -1.27\r\n\r\n\r\n-0.19 – -0.16\r\n\r\n\r\n<0.001\r\n\r\n\r\nvehicle manufacturerNissan\r\n\r\n\r\n0.01\r\n\r\n\r\n0.00\r\n\r\n\r\n-0.02 – 0.04\r\n\r\n\r\n-0.01 – 0.01\r\n\r\n\r\n0.637\r\n\r\n\r\nprovince Western Cape\r\n\r\n\r\n-0.01\r\n\r\n\r\n-0.01\r\n\r\n\r\n-0.03 – 0.01\r\n\r\n\r\n-0.02 – 0.00\r\n\r\n\r\n0.273\r\n\r\n\r\ntf dealership cars\r\n\r\n\r\n-0.00\r\n\r\n\r\n-0.00\r\n\r\n\r\n-0.02 – 0.02\r\n\r\n\r\n-0.01 – 0.01\r\n\r\n\r\n0.781\r\n\r\n\r\nprovince Kwazulu Natal\r\n\r\n\r\n-0.01\r\n\r\n\r\n-0.01\r\n\r\n\r\n-0.03 – 0.01\r\n\r\n\r\n-0.01 – 0.00\r\n\r\n\r\n0.289\r\n\r\n\r\ntf dealership motors\r\n\r\n\r\n-0.00\r\n\r\n\r\n-0.00\r\n\r\n\r\n-0.02 – 0.01\r\n\r\n\r\n-0.01 – 0.01\r\n\r\n\r\n0.594\r\n\r\n\r\nvehicle manufacturerHyundai\r\n\r\n\r\n-0.05\r\n\r\n\r\n-0.02\r\n\r\n\r\n-0.07 – -0.02\r\n\r\n\r\n-0.03 – -0.01\r\n\r\n\r\n0.001\r\n\r\n\r\ntf dealership toyota\r\n\r\n\r\n-0.09\r\n\r\n\r\n-0.03\r\n\r\n\r\n-0.11 – -0.06\r\n\r\n\r\n-0.04 – -0.02\r\n\r\n\r\n<0.001\r\n\r\n\r\ntf car name dr\r\n\r\n\r\n-0.09\r\n\r\n\r\n-0.04\r\n\r\n\r\n-0.11 – -0.07\r\n\r\n\r\n-0.05 – -0.03\r\n\r\n\r\n<0.001\r\n\r\n\r\nage\r\n\r\n\r\n-0.06\r\n\r\n\r\n-0.41\r\n\r\n\r\n-0.06 – -0.06\r\n\r\n\r\n-0.42 – -0.39\r\n\r\n\r\n<0.001\r\n\r\n\r\ntf city town johannesburg\r\n\r\n\r\n-0.14\r\n\r\n\r\n-0.06\r\n\r\n\r\n-0.16 – -0.12\r\n\r\n\r\n-0.07 – -0.05\r\n\r\n\r\n<0.001\r\n\r\n\r\ntf car name polo\r\n\r\n\r\n-0.11\r\n\r\n\r\n-0.05\r\n\r\n\r\n-0.15 – -0.08\r\n\r\n\r\n-0.07 – -0.04\r\n\r\n\r\n<0.001\r\n\r\n\r\ntf car name auto\r\n\r\n\r\n-0.29\r\n\r\n\r\n-0.22\r\n\r\n\r\n-0.31 – -0.27\r\n\r\n\r\n-0.23 – -0.20\r\n\r\n\r\n<0.001\r\n\r\n\r\nfuel type Petrol\r\n\r\n\r\n-0.40\r\n\r\n\r\n-0.27\r\n\r\n\r\n-0.42 – -0.38\r\n\r\n\r\n-0.28 – -0.26\r\n\r\n\r\n<0.001\r\n\r\n\r\ntransmission Manual\r\n\r\n\r\n-0.70\r\n\r\n\r\n-0.51\r\n\r\n\r\n-0.73 – -0.68\r\n\r\n\r\n-0.53 – -0.50\r\n\r\n\r\n<0.001\r\n\r\n\r\nObservations\r\n\r\n\r\n14855\r\n\r\n\r\nR2 / R2 adjusted\r\n\r\n\r\n0.678 / 0.677\r\n\r\n\r\nAccording to the results above, statistically significant variables\r\ninclude the vehicle manufacturer, vehicle name,vehicle\r\nage,transmission_type and fuel_type. Top among these are Mercedes Benz,\r\nBMW,Toyota and Volkswagen. Vehicles with the terms such as:\r\n“tsi”,“double”,“cab”,“dr” and “auto”. Interesting, “tsi” is a fuel type\r\ndesignation among Volkswagen group vehicles. Similarly, “double” and\r\n“cab” usually denote the bakkie (pickup truck) segment in South Africa.\r\nOther vehicle segment key word is “dr” which usually indicate a coupe or\r\ntwo-door saloon vehicle.\r\nCONCLUSION\r\nIn example, we have found the determinants of vehicle prices from the\r\nscraped dataset. The results are in line with vehicle sales in South\r\nAfrica. Mercedes Benz, BMW, Toyota and Volkswagen, Ford and Hyundai\r\nvehicles constantly feature among top selling vehicles in South Africa.\r\nAs expected, vehicle age and vehicle mileage are statistically\r\nsignificant factors that influence prices. To enhance the analysis, it\r\nmay be worthwhile to scrape more variables such as vehicle description,\r\nlisting date, options list, vehicle conditions and colour.\r\nREFERENCE\r\nWickham et al.,2019. Welcome to the tidyverse. Journal of Open Source\r\nSoftware, 4(43), 1686, https://doi.org/10.21105/joss.01686\r\nSam Firke, 2021. janitor: Simple Tools for Examining and Cleaning\r\nDirty Data. R package version 2.1.0. https://CRAN.R-project.org/package=janitor\r\nHadley Wickham and Jennifer Bryan, 2019. readxl: Read Excel Files. R\r\npackage version 1.3.1. https://CRAN.R-project.org/package=readxl\r\nJeroen Ooms, 2021. writexl: Export Data Frames to Excel ‘xlsx’\r\nFormat. R package version 1.4.0. https://CRAN.R-project.org/package=writexl\r\nJeffrey B. Arnold. 2021. ggthemes: Extra Themes, Scales and Geoms for\r\n‘ggplot2’. R package version 4.2.4. https://CRAN.R-project.org/package=ggthemes\r\nKuhn et al., 2020. Tidymodels: a collection of packages for modeling\r\nand machine learning using tidyverse principles. https://www.tidymodels.org\r\nEmil Hvitfeldt. 2021. textrecipes: Extra ‘Recipes’ for Text\r\nProcessing. R package version 0.4.1. https://CRAN.R-project.org/package=textrecipes\r\nSilge J, Robinson, D. 2016. “tidytext: Text Mining and Analysis Using\r\nTidy Data Principles in R.” JOSS, 1(3). doi:\r\n10.21105/joss.00037. https://doi.org/10.21105/joss.00037\r\nJerome Friedman, Trevor Hastie, Robert Tibshirani. 2010.\r\nRegularization Paths for Generalized Linear Models via Coordinate\r\nDescent. Journal of Statistical Software, 33(1), 1-22. https://www.jstatsoft.org/v33/i01/\r\nJulia Silge, Fanny Chow, Max Kuhn and Hadley Wickham. 2021. rsample:\r\nGeneral Resampling Infrastructure. R package version 0.1.1. https://CRAN.R-project.org/package=rsample\r\nMax Kuhn and Davis Vaughan (2021). parsnip: A Common API to Modeling\r\nand Analysis Functions. https://parsnip.tidymodels.org, https://github.com/tidymodels/parsnip\r\nLüdecke D. 2021. sjPlot: Data Visualization for Statistics in\r\nSocial Science. R package version 2.8.10. https://CRAN.R-project.org/package=sjPlot\r\nLüdecke D. 2021. sjlabelled: Labelled Data Utility Functions\r\n(Version 1.1.8). doi: 10.5281/zenodo.1249215. https://doi.org/10.5281/zenodo.1249215.\r\n\r\n\r\n\r\n",
      "last_modified": "2022-06-05T13:26:41+02:00"
    },
    {
      "path": "Food_Prices.html",
      "title": "South African Food Prices",
      "description": "This post summarises recent food price movement in South Africa using the Trundler API.\n",
      "author": [
        {
          "name": {},
          "url": "https://www.linkedin.com/in/sivuyile-nzimeni-98006ba0/"
        }
      ],
      "date": "June 4, 2022",
      "contents": "\r\n\r\nContents\r\nINTRODUCTION\r\n\r\nINTRODUCTION\r\nRecently, South Africa has been experiencing notable food\r\nprice increases. Data collection to ascertain day-to-day,\r\nmonth-on-month etc. changes can be tedious and costly. Fortunately,\r\nthere are several South African entities attempting to collect, store\r\nand report on food prices in South Africa. Track prices as excellently\r\nas the team responsible for the Trundler API. They track\r\nproduct prices across a myriad of retailers.\r\nIn order to track food price changes for the period 2020 - 2022, we\r\npulled prices for six food categories:\r\nEggs\r\nMilk\r\nMaize\r\nRice\r\nSunflower Oil\r\nWhite Sugar\r\nUsing the Trundler API, we narrowed the product search to a handful\r\nof competing products in two large South African Retailers. As a result,\r\nwe don’t share the data extraction process in this post to protect the\r\ndata extracted and API keys associated with them.\r\nThe table below provides an overview of food prices for the period\r\n2020 - 2022.\r\n\r\n\r\n\r\n\r\n#333333\r\n#ffffff\r\n#e7e7e7\r\n1px\r\n#e7e7e7\r\n#eeeeee\r\n5\r\n2020 - 2022 Price Changes\r\nPrice changes across six categories of foods: Eggs, Maize, Milk, Rice, Sunflower Oil and White Sugar\r\n\r\nData Source: Trundler API| Visualisation: Sivuyile Nzimeni| Date Extracted: 2022/06/01\r\n\r\n0px\r\n5px\r\n#ffffff\r\n#ffffff\r\n#999999\r\n500\r\nuppercase\r\n11\r\n0px\r\n#ffffff\r\nuppercase\r\n11\r\n#ffffff\r\n#333333\r\n#e9edf0\r\n#ffffff\r\n#333333\r\n#333333\r\n13px\r\n#333333\r\n#333333\r\n14px\r\n#333333\r\n14px\r\n\r\n\r\n\r\n\r\n",
      "last_modified": "2022-06-05T13:26:44+02:00"
    },
    {
      "path": "index.html",
      "title": "Sivuyile Nzimeni",
      "author": [],
      "contents": "\r\n\r\n          \r\n          \r\n          Sivuyile Nzimeni\r\n          \r\n          \r\n          Home\r\n          \r\n          \r\n          Posts\r\n           \r\n          ▾\r\n          \r\n          \r\n          Ask A Manager Survey\r\n          Scraping DBE School Data\r\n          State of Capture Part 1: Notes\r\n          South African Car Prices\r\n          South African Food Prices\r\n          \r\n          \r\n          ☰\r\n          \r\n          \r\n      \r\n        \r\n          \r\n            \r\n              \r\n            \r\n              Sivuyile Nzimeni\r\n            \r\n            \r\n              \r\n                \r\n                    \r\n                      \r\n                        LinkedIn\r\n                      \r\n                    \r\n                  \r\n                                    \r\n                    \r\n                      \r\n                        Twitter\r\n                      \r\n                    \r\n                  \r\n                                    \r\n                    \r\n                      \r\n                        Email\r\n                      \r\n                    \r\n                  \r\n                                  \r\n            \r\n          \r\n        \r\n        \r\n        \r\n          \r\n            I am a Data Analyst and Teaching and Learning Coordinator\r\n            for the Faculty of Economic and Management Sciences at the\r\n            University of the Free State. Previously worked as a\r\n            part-time lecturer (Personal Selling), Research Assistant\r\n            and Intern at the same institution. I have a demonstrated\r\n            history of working in the higher education industry with\r\n            expertise in managing a large cohort of employees,\r\n            Coordinating software development, Data Analysis Financial\r\n            management, Monitoring and Evaluation, Report Writing and\r\n            Presentation. In addition, I am skilled in the R Programming\r\n            Language, Python, KNIME and Julia Programming language among\r\n            others.\r\n            \r\n            Qualifications\r\n            2016: Bachelor of Commerce (Honours) with\r\n            specialisation in Entrepreneurial Management (University of\r\n            the Free State)\r\n            2015: Bachelor of Arts majoring in Philosophy and\r\n            Management (University of the Free State)\r\n            2011: National Senior Certificate (Hoerskool De Vos\r\n            Malan)\r\n            \r\n            \r\n            Certifications\r\n            Completed Certifications\r\n            Year\r\n            Month\r\n            Course Description\r\n            Provider\r\n            2021\r\n            Sept\r\n            Learning Julia (Programming Language)\r\n            LinkedIn Learning\r\n            2021\r\n            Aug\r\n            Artificial Intelligence Tools and Concepts\r\n            LinkedIn\r\n            Learning\r\n            2021\r\n            Jun\r\n            Python for Everybody Specialisation\r\n            Coursera\r\n            2021\r\n            May\r\n            PHP Essential Training\r\n            LinkedIn Learning\r\n            2021\r\n            Mar\r\n            Python Data Structures\r\n            Coursera\r\n            2021\r\n            Feb\r\n            Programming for Everybody(Getting Started with\r\n            Python)\r\n            Coursera\r\n            2020\r\n            Oct\r\n            Advertising on Facebook: Advanced\r\n            LinkedIn Learning\r\n            2020\r\n            Sept\r\n            Developing Data Products\r\n            Coursera\r\n            2020\r\n            Sept\r\n            PostreSQL Essential Training\r\n            LinkedIn Learning\r\n            2020\r\n            Sept\r\n            Practical Machine Learning\r\n            Coursera\r\n            2020\r\n            Aug\r\n            Advanced R Programming\r\n            Coursera\r\n            2020\r\n            Jun\r\n            Regression Models\r\n            Coursera\r\n            2020\r\n            Apr\r\n            Data Visualisation in R with ggplot2\r\n            LinkedIn Learning\r\n            2020\r\n            Jan\r\n            R Statistics Essential Training\r\n            LinkedIn\r\n            Learning\r\n            2019\r\n            Dec\r\n            The R Programming Environment\r\n            Coursera\r\n            2017\r\n            Dec\r\n            Supplemental Instruction Supervisor Training\r\n            Workshop\r\n            Nelson Mandela University( The Supplemental Instruction\r\n            National Office)\r\n            2017\r\n            Mar\r\n            Advanced Project Management (NQF Level 5)\r\n            Extribyte (Pty) Ltd\r\n            Public ServiceSector Education & Training\r\n            Authority\r\n            \r\n            \r\n            Skills\r\n            Process Automation\r\n            Data Analysis\r\n            Management\r\n            Customer Service\r\n            Big Data\r\n            Project Management\r\n            Database Administration\r\n            Data Visualisation\r\n            Web Application\r\n            Artificial Intelligence\r\n            \r\n            \r\n            Technologies\r\n            Microsoft365\r\n            (Excel,Word,Powerpoint,OneDrive,Sharepoint etc.)\r\n            R Programming\r\n            Python Programming\r\n            Julia Programming\r\n            MySQL\r\n            PostgreSQL\r\n            Blackboard\r\n            PeopleSoft\r\n            Facebook Marketing\r\n            Survey Data Collection Software (e.g. Questback,\r\n            SurveyMonkey, GoogleForms etc.)\r\n            \r\n            \r\n            Publications\r\n            Nzimeni, S. Smit, AVA. 2018. ‘Is the quality of education\r\n            impacting the global competitiveness of the South African\r\n            business environment?’ 30th Annual Conference of the\r\n            South African Institute of Management Scientists: Conference\r\n            Proceedings, Stellenbosch University, Stellebosch, 16 -\r\n            19 September 2018.\r\n            Nzimeni, S. 2019. ‘Enrolment versus Attendance: A\r\n            preliminary investigation into the cost of tutorials’.\r\n            Siyaphumelela 2019: A Saide project. Johannesburg,\r\n            25 - 27 June 2019.\r\n            Muller, A. Nzimeni, S. Janse van Vuuren, Corlia. 2021.\r\n            ‘Curriculum enhancement: reflections on the use of data,\r\n            holistic student support and disciplinary skills development\r\n            on a decade-long transformative journey’. 2021\r\n            University of the Free State Annual Teaching and Learning\r\n            Conference.\r\n            \r\n          \r\n        \r\n      \r\n    \r\n\r\n    \r\n      \r\n        \r\n          \r\n            \r\n              \r\n            \r\n              Sivuyile Nzimeni\r\n            \r\n            \r\n              \r\n                \r\n                                    \r\n                    \r\n                      LinkedIn\r\n                    \r\n                  \r\n                                    \r\n                    \r\n                      Twitter\r\n                    \r\n                  \r\n                                    \r\n                    \r\n                      Email\r\n                    \r\n                  \r\n                                  \r\n              \r\n            \r\n            \r\n              I am a Data Analyst and Teaching and Learning\r\n              Coordinator for the Faculty of Economic and Management\r\n              Sciences at the University of the Free State. Previously\r\n              worked as a part-time lecturer (Personal Selling),\r\n              Research Assistant and Intern at the same institution. I\r\n              have a demonstrated history of working in the higher\r\n              education industry with expertise in managing a large\r\n              cohort of employees, Coordinating software development,\r\n              Data Analysis Financial management, Monitoring and\r\n              Evaluation, Report Writing and Presentation. In addition,\r\n              I am skilled in the R Programming Language, Python, KNIME\r\n              and Julia Programming language among others.\r\n              \r\n              Qualifications\r\n              2016: Bachelor of Commerce (Honours) with\r\n              specialisation in Entrepreneurial Management (University\r\n              of the Free State)\r\n              2015: Bachelor of Arts majoring in Philosophy and\r\n              Management (University of the Free State)\r\n              2011: National Senior Certificate (Hoerskool De Vos\r\n              Malan)\r\n              \r\n              \r\n              Certifications\r\n              Completed Certifications\r\n              Year\r\n              Month\r\n              Course Description\r\n              Provider\r\n              2021\r\n              Sept\r\n              Learning Julia (Programming Language)\r\n              LinkedIn Learning\r\n              2021\r\n              Aug\r\n              Artificial Intelligence Tools and Concepts\r\n              LinkedIn\r\n              Learning\r\n              2021\r\n              Jun\r\n              Python for Everybody Specialisation\r\n              Coursera\r\n              2021\r\n              May\r\n              PHP Essential Training\r\n              LinkedIn Learning\r\n              2021\r\n              Mar\r\n              Python Data Structures\r\n              Coursera\r\n              2021\r\n              Feb\r\n              Programming for Everybody(Getting Started with\r\n              Python)\r\n              Coursera\r\n              2020\r\n              Oct\r\n              Advertising on Facebook: Advanced\r\n              LinkedIn Learning\r\n              2020\r\n              Sept\r\n              Developing Data Products\r\n              Coursera\r\n              2020\r\n              Sept\r\n              PostreSQL Essential Training\r\n              LinkedIn Learning\r\n              2020\r\n              Sept\r\n              Practical Machine Learning\r\n              Coursera\r\n              2020\r\n              Aug\r\n              Advanced R Programming\r\n              Coursera\r\n              2020\r\n              Jun\r\n              Regression Models\r\n              Coursera\r\n              2020\r\n              Apr\r\n              Data Visualisation in R with ggplot2\r\n              LinkedIn Learning\r\n              2020\r\n              Jan\r\n              R Statistics Essential Training\r\n              LinkedIn\r\n              Learning\r\n              2019\r\n              Dec\r\n              The R Programming Environment\r\n              Coursera\r\n              2017\r\n              Dec\r\n              Supplemental Instruction Supervisor Training\r\n              Workshop\r\n              Nelson Mandela University( The Supplemental\r\n              Instruction National Office)\r\n              2017\r\n              Mar\r\n              Advanced Project Management (NQF Level 5)\r\n              Extribyte (Pty) Ltd\r\n              Public ServiceSector Education & Training\r\n              Authority\r\n              \r\n              \r\n              Skills\r\n              Process Automation\r\n              Data Analysis\r\n              Management\r\n              Customer Service\r\n              Big Data\r\n              Project Management\r\n              Database Administration\r\n              Data Visualisation\r\n              Web Application\r\n              Artificial Intelligence\r\n              \r\n              \r\n              Technologies\r\n              Microsoft365\r\n              (Excel,Word,Powerpoint,OneDrive,Sharepoint etc.)\r\n              R Programming\r\n              Python Programming\r\n              Julia Programming\r\n              MySQL\r\n              PostgreSQL\r\n              Blackboard\r\n              PeopleSoft\r\n              Facebook Marketing\r\n              Survey Data Collection Software (e.g. Questback,\r\n              SurveyMonkey, GoogleForms etc.)\r\n              \r\n              \r\n              Publications\r\n              Nzimeni, S. Smit, AVA. 2018. ‘Is the quality of\r\n              education impacting the global competitiveness of the\r\n              South African business environment?’ 30th Annual\r\n              Conference of the South African Institute of Management\r\n              Scientists: Conference Proceedings, Stellenbosch\r\n              University, Stellebosch, 16 - 19 September 2018.\r\n              Nzimeni, S. 2019. ‘Enrolment versus Attendance: A\r\n              preliminary investigation into the cost of tutorials’.\r\n              Siyaphumelela 2019: A Saide project.\r\n              Johannesburg, 25 - 27 June 2019.\r\n              Muller, A. Nzimeni, S. Janse van Vuuren, Corlia. 2021.\r\n              ‘Curriculum enhancement: reflections on the use of data,\r\n              holistic student support and disciplinary skills\r\n              development on a decade-long transformative journey’.\r\n              2021 University of the Free State Annual Teaching and\r\n              Learning Conference.\r\n              \r\n            \r\n        \r\n      \r\n    \r\n\r\n    \r\n    \r\n    ",
      "last_modified": "2022-06-05T13:26:44+02:00"
    },
    {
      "path": "Scrape_DBE.html",
      "title": "Department of Basic Education: Schools Database",
      "description": "This post details the data scraping process for obtaining the schools database of from the Department of Basic Education in South Africa.\n",
      "author": [
        {
          "name": {},
          "url": "https://www.linkedin.com/in/sivuyile-nzimeni-98006ba0/"
        }
      ],
      "date": "December 30, 2021",
      "contents": "\r\n\r\nContents\r\nINTRODUCTION\r\nDATA SCRAPING\r\nDOWNLOADS, SO MANY\r\nDOWNLOADS.\r\nBRING YOUR BROOMS\r\nCAUSE IT’S A MESS!\r\n\r\nCONCLUSION\r\nREFERENCES\r\n\r\nINTRODUCTION\r\nA few years ago, I was a student pursuing Masters of Commerce degree.\r\nThe topic had something to do with the relationship between Education,\r\nLabour and Business outcomes. My pursuit of the qualification is\r\ndefunct. However, there are several artefacts worth writting up. In this\r\npost, we will discuss the South African Schools Database. The Department\r\nof Basic Education regularly publishes versions of the School Database\r\nincluding a number of notable variables such as the school’s location,\r\ncontact information, number of learners and teachers etc. The data is\r\npublished in a non-standardised matter. This makes it an interesting\r\ndata wrangling task.\r\nDATA SCRAPING\r\nThe first hurdle is the volume of files publised on the DBE\r\nwebsite. It is possible to download all 200 files by hand and save them\r\nto a directory of your choosing. However, such a process would be\r\ntedious and error prone(speaking from experience, ofcourse). The\r\nR-Programming language is a perfect companion for this task. To download\r\nthe files, we can use two important packages, rvest and xml2.\r\n\r\n\r\nData_Sets <- read_html(\"https://www.education.gov.za/Programmes/EMIS/EMISDownloads.aspx\") %>% \r\n  html_elements(\"a\") %>% \r\n  html_attr(name = \"href\")\r\n\r\nData_Sets <- data.frame(dataset_links = Data_Sets) %>% \r\n  filter(str_detect(dataset_links,\"^[[:punct:]]Link\"),\r\n         str_detect(dataset_links,\"forcedownload\"))\r\n\r\nData_Sets <- Data_Sets %>% \r\n  mutate(dataset_links = paste0(\"https://www.education.gov.za/Programmes/EMIS/EMISDownloads\",\r\n                                dataset_links))\r\n\r\n\r\n\r\nFirstly, we specify the url on the read_html function. Thereafter, we\r\nuse the html_elements function to point to the html tag of interest. In\r\nthis case, we are interest in the “a” tag, specifically, the href (or\r\nlink) attribute.\r\nWe store the result in a data.frame object and use a regular\r\nexpression to filter for values that start with a punctuation followed\r\nby “Link” and values that contain the term “forcedownload”. Finally, we\r\nappend the path to file (our base url). The resulting data.frame\r\ncontains all 200 downloadable files.\r\nDOWNLOADS, SO MANY DOWNLOADS.\r\nWith the links in hand, we can tackle the next hurdle, downloading\r\nthe files. Usually, we could use the commandline to download the files.\r\nFor example, the single command below.\r\n\r\nwget -i some_text_file.txt\r\n\r\nHowever, the DBE datasets are saved as either xlsx or xls format with\r\na prompt on click to download the file. There are probably ways around\r\nthis issue. Luckily, xml2 has a convenient function to handle this\r\nissue. In the code below, we use a for-loop to download each file in our\r\ndataset and save them in a specified sub folder. To avoid a break in the\r\nfor-loop when an error occurs, we add the try function. As an add-on, we\r\nprint a statement after each download. Depending on your internet\r\nconnection speed and the website’s response time, this script can take\r\nfive minutes to download all the files.\r\n\r\n\r\nfor(i in seq_along(1:nrow(Data_Sets))){\r\n  try(download_xml(url = Data_Sets$dataset_links[[i]],\r\n               file = paste0(\"./Schools_Db/\",\"file_\",i,\".xlsx\")))\r\n  print(paste0(\"File \",i, \" downloaded \",\"proceeding to file \",i+1,\".\"))\r\n}\r\n\r\n\r\n\r\nBRING YOUR BROOMS CAUSE IT’S\r\nA MESS!\r\nAnother set of tasks to address is reading and cleaning the excel\r\nfiles. Using other software such as Excel or SPSS, these tasks would be\r\ncumbersome. Yet with R, Python or other programming languages, it\r\npossible handle more than one file at a time. Below, we use the readxl\r\nand purrr R packages to iteratively read and clean the files.\r\n\r\n\r\n# All_Excel_Reader --------------------------------------------------------\r\nall_excel <- function(path){\r\n  collect_sheets <- excel_sheets(path)\r\n  number_of_sheets <- 1:length(collect_sheets)\r\n  per_sheet <- list()\r\n  for(i in seq_along(number_of_sheets)){\r\n    per_sheet[[i]] <- read_xlsx(path = path,\r\n                                sheet = collect_sheets[i])\r\n  }\r\n  return(per_sheet)}\r\n# All_Masterlist ----------------------------------------------------------\r\nEDU_Dbs <- data.frame(master_list = list.files(path = \"./Schools_Db\",\r\n           full.names=TRUE,\r\n           pattern = \".xlsx\")) %>% \r\n  mutate(schools_db = map(master_list,all_excel))\r\n\r\nEDU_Dbs <- EDU_Dbs %>% \r\n  unnest(schools_db)\r\n\r\nEDU_Dbs$schools_db <- lapply(EDU_Dbs$schools_db,sapply,as.character)\r\n\r\nEDU_Dbs$schools_db <- lapply(EDU_Dbs$schools_db,as.data.frame)\r\n\r\nEDU_Dbs <- EDU_Dbs %>% \r\n  unnest(schools_db)\r\n\r\nEDU_Dbs <- EDU_Dbs %>% \r\n  clean_names()\r\n\r\n\r\n\r\nThe resulting data.frame contains hundreds of thousands of rows and\r\nnearly 60 columns. Interestingly, most of these variable are effectively\r\ndiffering naming conventions such as emisno = natemis = oldnatemis =\r\nnewnatemis. The insistent naming conventions extend to other variables\r\nsuch as gps coordinates and centre details. The spectacularly\r\nunoptimised script is availablehere.\r\nThe scraper script,cleaning script and downloaded xlsx files are all\r\navailable on the this github\r\nreport.\r\nCONCLUSION\r\nUsing R to clean data is a wise choice. This post highlighted an\r\nexample of implementation on a relatively small dataset. The final\r\ndataset can be used to match school performance reports regularly\r\npublished by the Department of Basic Education.\r\nREFERENCES\r\nWickham et al., (2019). Welcome to the tidyverse. Journal of Open\r\nSource Software, 4(43), 1686, https://doi.org/10.21105/joss.01686\r\nSam Firke (2021). janitor: Simple Tools for Examining and Cleaning\r\nDirty Data. R package version 2.1.0. https://CRAN.R-project.org/package=janitor\r\nHadley Wickham and Jennifer Bryan (2019). readxl: Read Excel Files. R\r\npackage version 1.3.1. https://CRAN.R-project.org/package=readxl\r\nJeroen Ooms (2021). writexl: Export Data Frames to Excel ‘xlsx’\r\nFormat. R package version 1.4.0. https://CRAN.R-project.org/package=writexl\r\nHadley Wickham (2021). rvest: Easily Harvest (Scrape) Web Pages. R\r\npackage version 1.0.2. https://CRAN.R-project.org/package=rvest\r\n\r\n\r\n\r\n",
      "last_modified": "2022-06-05T13:27:07+02:00"
    },
    {
      "path": "State_Capture_One.html",
      "title": "State of Capture Commission Report Part 1: Notes",
      "description": "This posts is the first installment of notes from reading the State of Capture Commission's Report Part 1. This post post focuses on the first few pages of the report. \n",
      "author": [
        {
          "name": {},
          "url": "https://www.linkedin.com/in/sivuyile-nzimeni-98006ba0/"
        }
      ],
      "date": "January 05, 2022",
      "contents": "\r\n\r\nContents\r\nBACKGROUND\r\nREADING THE REPORT\r\nNOTES\r\nSOUTH AFRICAN AIRWAYS\r\n\r\nCONCLUSION\r\n\r\nBACKGROUND\r\nOn 14 October 2016, the previous Public Protector, Adv Thuli\r\nMandonsela, published the State of Capture Report. The famed public\r\nsector watchdog had a reputation for holding public officials\r\naccountable. The State of Capture report was no different.\r\nIt documented the pervasiveness of State Capture in the Jacob Zuma\r\nadministrations. The report provided prima facie evidence of State\r\nCapture, including many public officials burning desire to visit the\r\nhome of the notorious Gupta Brothers.\r\nThe report also lent credence to the assertion of several\r\nwhistleblowers that Guptas were surreptitiously influencing key\r\npublic-sector decisions. Most importantly, the report led to the\r\nCommission of Inquiry into State Capture.\r\nIn the years since, a flurry of litigation in the peripheral of State\r\nCapture, some directly related to the topic, ensued; Jacob Zuma\r\nresigned, the Adv Thuli Mandonsela completed her term as the Public\r\nProtector and moved on to Stellenbosch University, and the Commission\r\ncommenced its work.\r\nOn 04 January 2022, the Commission published Volume 1 of 3 of its\r\nreport. The 04 January 2022 report is a continuation of the initial\r\nreport from the previous Public Protector. The Commission’s report\r\nprovides comprehensive detail on the allegations of State Capture,\r\ninvestigating claims and issuing several findings against several\r\nparties.\r\nREADING THE REPORT\r\nThe 04 January 2022 report is the culmination of 430 hearings, 778\r\nvideos and 170 666 Affidavits and Statements, 3 171 summons issued to\r\nwitness and 1 380 Requests For Information (State Capture.org.za 2022).\r\nReading the report’s contents is important to understand the depth and\r\nbreadth of the State Capture project. Beyond this, it is also important\r\nto read through the information to defend against disinformation and\r\nmisinformation campaigns that may arise on social media especially\r\nconsidering the Bell Pottinger scandal.\r\nNOTES\r\nThis post attempts to summarise the report’s contents into layman’s\r\nlanguage. It is also an attempt to find salient points throughout the\r\nreport and ultimately to gain an in-depth understanding of the\r\nreport.\r\nThe report opens with background information on the establishment of\r\nthe Commission. It provides descriptive statistics on the work of the\r\nCommission and recounts the Commission’s mandate. The Commission heard\r\nevidence related to the following State-Owned Enterprises and Private\r\nEnterprises:\r\nSouth African Airways (SAA) and Subsidiaries\r\nBOSASA\r\nDenel\r\nEskom\r\nEstina Dairy Farm\r\nPRASA\r\nSABC\r\nSARS\r\nSSA\r\nTransnet.\r\nChapter 1 of the report focuses on SAA and its subsidiaries. Chapters\r\n2, 3, and 4 focus on The New Age and its dealings with government\r\ndepartments and State-Owned Entities, South African Revenue Service and\r\nPublic Procurement in South Africa, respectively. This post will focus\r\non the first 140 pages of the report, with the remaining pages covered\r\nin subsequent posts.\r\nSOUTH AFRICAN AIRWAYS\r\nThe report is unambiguous about the entity’s state while Ms Dudu\r\nMyeni and Ms Kwinana served as board members. In short, the report\r\nasserts that SAA experienced a steady decline in quality and\r\neffectiveness. This decline is largely attributed to the tenures of Ms\r\nMyeni and Ms Kwinana. Throughout their terms, corruption and fraud were\r\nrampant at the institution. Those that opposed illegal conduct were\r\nvictimised and eventually removed from their positions. The Commission\r\nalso highlights failures by SAA auditors to detect fraud and corruption.\r\nThe collapse also extends to SAA’s internal audit function. There was\r\nalso a wholesale failure in governance within the SAA and its\r\nsubsidiaries (see paragraphs 11 – 20 of the report).\r\nThe Commission is particularly scathing on the conduct of Ms Myeni,\r\narguing that she created the hostile environment described above through\r\n“a mixture of negligence, incompetence and deliberate corrupt intent” to\r\nfurther the project of dismantling governance at the entity (see\r\nParagraph 13 of the report).\r\nThe Commission also implicates several other stakeholders as enablers\r\nof Myeni’s conduct. These stakeholders include former President Jacob\r\nZuma (see paragraph 14), former Ministers Gigaba and Brown (see\r\nparagraph 18). Finally, the Cabinet, the Executive of South Africa, is\r\nalso implicated for yielding to the preferences of the President rather\r\nthan the interests of State-Owned Enterprises. Ms Carolous (previous SAA\r\nBoard Chair) detailed several instances where then Minister of Public\r\nEnterprises, Mr Malusi Gigaba, took steps to undermine the authority of\r\nthe Board and affect the strategic outcomes of the entity. These actions\r\ninclude:\r\nExcluding the Board Chair from Communication\r\nPublicly denouncing the Board, calling them unpatriotic and\r\nincompetent\r\nDelaying submission of the Request for a Guarantee to\r\nTreasury\r\nMisleading the Board Chair about the timeline of the proposal to\r\nTreasury Pressuring SAA to close the commercially viable Mumbai\r\nroute.\r\nAppointing Ms Dudu Myeni as Board Chair despite her poor\r\nattendance record at SAA Board Meetings. (see Paragraphs 39 –\r\n68)\r\nThe report also reveals that Mr Siyabonga Mahlangu, then adviser to\r\nthe Minister of Public Enterprises, had an unquenchable thirst to visit\r\nthe Gupta household. Mr Mahlangu’s affections for the Saxonwold compound\r\nalso included inviting others to the address.\r\nOne such invitee was then Acting Chief Executive Officer, Mr Kona. Mr\r\nKona alleges that Mr Tony Gupta offered him a large amount of money,\r\nwhich he refused. At the same meeting, Mr Kona informed Mr Tony Gupta\r\nabout allocating a tender to Lufthansa Consultancy. In addition, Mr Kona\r\nalleged that Mr Tony Gupta was livid about the tender allocation.\r\nAfter the visit, Mr Kona received a call from the Director-General of\r\nPublic Enterprises, Mr Tshediso Matona. The Director-General expressed\r\nhis displeasure on the tender allocation to Lufthansa Consultancy. The\r\ngrievances of the Director-General were to the extent that the\r\nDepartment of Public Enterprises deemed it necessary to investigate the\r\ntender. The investigation found no irregularities associated with the\r\ntender. Despite the findings of the investigation, the Department of\r\nPublic Enterprises refused the continuance of the tender.\r\nCONCLUSION\r\nThis is the tip of the iceberg. There several specific allegation\r\nagainst Ms Dudu Myeni and Ms Kwinana. These will be discussed in\r\nsubsequent summaries (trying to keep the word count below 1000). For\r\nnow, it clear that State Capture was (or is) present at South African\r\nAirways. The following post will detail specific incidents of how State\r\nCapture took hold of the entity with specific reference to the conduct\r\nof Ms Dudu Myeni.\r\n\r\n\r\n\r\n",
      "last_modified": "2022-06-05T13:27:09+02:00"
    }
  ],
  "collections": []
}
